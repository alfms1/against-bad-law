<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vote Assistant ë¶ë§ˆí´ë¦¿ ë“±ë¡</title>
  <style>
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
      padding: 1em; 
      line-height: 1.6; 
      max-width: 600px;
      margin: 0 auto;
      background: #f8f9fa;
    }
    .container {
      background: white;
      padding: 2em;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 { color: #2e7d32; margin-bottom: 0.5em; }
    .method {
      background: #e3f2fd;
      padding: 1.5em;
      border-radius: 8px;
      margin: 1.5em 0;
      border-left: 4px solid #1976d2;
    }
    .method h3 {
      margin-top: 0;
      color: #1976d2;
    }
    .code-box {
      background: #f5f5f5;
      padding: 1em;
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
      word-break: break-all;
      border: 1px solid #ddd;
      margin: 1em 0;
    }
    .copy-btn {
      background: #4caf50;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 8px;
      font-size: 14px;
    }
    .copy-btn:hover {
      background: #45a049;
    }
    .copy-btn:active {
      background: #3d8b40;
    }
    .warning {
      background: #fff3e0;
      padding: 1em;
      border-radius: 6px;
      border-left: 4px solid #ff9800;
      margin: 1em 0;
    }
    .step {
      background: white;
      padding: 1em;
      margin: 0.5em 0;
      border-radius: 6px;
      border: 1px solid #e0e0e0;
    }
    .step-number {
      background: #1976d2;
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin-right: 10px;
      font-size: 14px;
    }
    .test-area {
      background: #f0f4f8;
      padding: 1.5em;
      border-radius: 8px;
      margin: 1.5em 0;
    }
    .browser-tabs {
      display: flex;
      gap: 10px;
      margin: 1em 0;
      flex-wrap: wrap;
    }
    .browser-tab {
      background: #e0e0e0;
      padding: 8px 16px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s;
    }
    .browser-tab.active {
      background: #1976d2;
      color: white;
    }
    .browser-content {
      display: none;
    }
    .browser-content.active {
      display: block;
    }
    .success {
      background: #e8f5e8;
      color: #2e7d32;
      padding: 1em;
      border-radius: 6px;
      margin: 1em 0;
      border: 1px solid #a5d6a7;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“± Vote Assistant ë¶ë§ˆí´ë¦¿ ë“±ë¡</h1>
    
    <div class="warning">
      <strong>âš ï¸ ì¤‘ìš”:</strong> ëª¨ë°”ì¼ì—ì„œëŠ” ë§í¬ë¥¼ ê¸¸ê²Œ ëˆŒëŸ¬ë„ ë¶ë§ˆí¬ ë“±ë¡ì´ ì•ˆ ë©ë‹ˆë‹¤. ì•„ë˜ ë°©ë²•ë“¤ì„ ì‚¬ìš©í•˜ì„¸ìš”!
    </div>

    <!-- ë¸Œë¼ìš°ì €ë³„ íƒ­ -->
    <div class="browser-tabs">
      <div class="browser-tab active" onclick="showBrowser('chrome')">Chrome (ì•ˆë“œë¡œì´ë“œ)</div>
      <div class="browser-tab" onclick="showBrowser('safari')">Safari (iOS)</div>
      <div class="browser-tab" onclick="showBrowser('kiwi')">Kiwi Browser</div>
      <div class="browser-tab" onclick="showBrowser('manual')">ìˆ˜ë™ ë°©ë²•</div>
    </div>

    <!-- Chrome ì•ˆë“œë¡œì´ë“œ -->
    <div id="chrome-content" class="browser-content active">
      <div class="method">
        <h3>ğŸ¤– Chrome (ì•ˆë“œë¡œì´ë“œ) ë°©ë²•</h3>
        
        <div class="step">
          <span class="step-number">1</span>
          <strong>ì•„ë¬´ í˜ì´ì§€ë‚˜ ë¶ë§ˆí¬ ì €ì¥</strong><br>
          Chromeì—ì„œ â­ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì•„ë¬´ í˜ì´ì§€ë‚˜ ë¶ë§ˆí¬ë¡œ ì €ì¥
        </div>
        
        <div class="step">
          <span class="step-number">2</span>
          <strong>ë¶ë§ˆí´ë¦¿ ì½”ë“œ ë³µì‚¬</strong><br>
          <div class="code-box" id="bookmarklet-code-chrome"></div>
          <button class="copy-btn" onclick="copyCode('bookmarklet-code-chrome')">ğŸ“‹ ì½”ë“œ ë³µì‚¬</button>
        </div>
        
        <div class="step">
          <span class="step-number">3</span>
          <strong>ë¶ë§ˆí¬ í¸ì§‘</strong><br>
          Chrome ë©”ë‰´ â†’ ë¶ë§ˆí¬ â†’ ì €ì¥í•œ ë¶ë§ˆí¬ í¸ì§‘ â†’ URL ë¶€ë¶„ì„ <strong>ì™„ì „íˆ ì§€ìš°ê³ </strong> ë³µì‚¬í•œ ì½”ë“œ ë¶™ì—¬ë„£ê¸°
        </div>
        
        <div class="step">
          <span class="step-number">4</span>
          <strong>ì´ë¦„ ë³€ê²½ í›„ ì €ì¥</strong><br>
          ë¶ë§ˆí¬ ì´ë¦„ì„ "Vote Assistant"ë¡œ ë³€ê²½í•˜ê³  ì €ì¥
        </div>
      </div>
    </div>

    <!-- Safari iOS -->
    <div id="safari-content" class="browser-content">
      <div class="method">
        <h3>ğŸ Safari (iOS) ë°©ë²•</h3>
        
        <div class="step">
          <span class="step-number">1</span>
          <strong>ì´ í˜ì´ì§€ë¥¼ ë¶ë§ˆí¬ë¡œ ì €ì¥</strong><br>
          Safariì—ì„œ ê³µìœ  ë²„íŠ¼ â†’ ë¶ë§ˆí¬ì— ì¶”ê°€
        </div>
        
        <div class="step">
          <span class="step-number">2</span>
          <strong>ë¶ë§ˆí´ë¦¿ ì½”ë“œ ë³µì‚¬</strong><br>
          <div class="code-box" id="bookmarklet-code-safari"></div>
          <button class="copy-btn" onclick="copyCode('bookmarklet-code-safari')">ğŸ“‹ ì½”ë“œ ë³µì‚¬</button>
        </div>
        
        <div class="step">
          <span class="step-number">3</span>
          <strong>ë¶ë§ˆí¬ í¸ì§‘</strong><br>
          ë¶ë§ˆí¬ ë©”ë‰´ â†’ í¸ì§‘ â†’ ë°©ê¸ˆ ì €ì¥í•œ ë¶ë§ˆí¬ ì„ íƒ â†’ URL í•„ë“œë¥¼ <strong>ì™„ì „íˆ ì§€ìš°ê³ </strong> ë³µì‚¬í•œ ì½”ë“œ ë¶™ì—¬ë„£ê¸°
        </div>
        
        <div class="step">
          <span class="step-number">4</span>
          <strong>iOS ë‹¨ì¶•ì–´ ë°©ë²• (ëŒ€ì•ˆ)</strong><br>
          <button onclick="window.open('https://www.icloud.com/shortcuts/voteassistant', '_blank')" style="background: #007aff; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">ğŸ“± iOS ë‹¨ì¶•ì–´ ë‹¤ìš´ë¡œë“œ</button>
        </div>
      </div>
    </div>

    <!-- Kiwi Browser -->
    <div id="kiwi-content" class="browser-content">
      <div class="method">
        <h3>ğŸ¥ Kiwi Browser (ì¶”ì²œ)</h3>
        
        <div class="step">
          <span class="step-number">1</span>
          <strong>Kiwi Browser ì„¤ì¹˜</strong><br>
          <button onclick="window.open('https://play.google.com/store/apps/details?id=com.kiwibrowser.browser', '_blank')" style="background: #34a853; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">ğŸ“± Play ìŠ¤í† ì–´ì—ì„œ ì„¤ì¹˜</button>
        </div>
        
        <div class="step">
          <span class="step-number">2</span>
          <strong>ê°œë°œì ë„êµ¬ ì‚¬ìš©</strong><br>
          Kiwi Browserì—ì„œ ë©”ë‰´ â†’ Developer tools â†’ Console
        </div>
        
        <div class="step">
          <span class="step-number">3</span>
          <strong>ì½”ë“œ ì§ì ‘ ì‹¤í–‰</strong><br>
          <div class="code-box" id="direct-code-kiwi"></div>
          <button class="copy-btn" onclick="copyCode('direct-code-kiwi')">ğŸ“‹ ì½”ë“œ ë³µì‚¬</button>
          <br><small>VForKorea ì‚¬ì´íŠ¸ì—ì„œ Consoleì— ë¶™ì—¬ë„£ê³  Enter</small>
        </div>
      </div>
    </div>

    <!-- ìˆ˜ë™ ë°©ë²• -->
    <div id="manual-content" class="browser-content">
      <div class="method">
        <h3>âœ‹ ìˆ˜ë™ ì²˜ë¦¬ ë°©ë²•</h3>
        
        <div class="step">
          <span class="step-number">1</span>
          <strong>VForKorea ì ‘ì†</strong><br>
          vforkorea.comì—ì„œ "ì˜¤ëŠ˜ ë§ˆê°" í‘œì‹œëœ ë²•ì•ˆë“¤ í™•ì¸
        </div>
        
        <div class="step">
          <span class="step-number">2</span>
          <strong>ì˜ê²¬ í…œí”Œë¦¿ ë³µì‚¬</strong><br>
          <div class="code-box">
            <strong>ë°˜ëŒ€ ì œëª©:</strong> ì´ ë²•ì•ˆì„ ë°˜ëŒ€í•©ë‹ˆë‹¤<br>
            <strong>ë°˜ëŒ€ ë‚´ìš©:</strong> êµ­ë¯¼ì˜ ì˜ê²¬ì„ ì¶©ë¶„íˆ ìˆ˜ë ´í•˜ì§€ ì•Šì€ ì¡¸ì† ì…ë²•ì„ ë°˜ëŒ€í•©ë‹ˆë‹¤.
          </div>
          <button class="copy-btn" onclick="copyTemplate()">ğŸ“‹ í…œí”Œë¦¿ ë³µì‚¬</button>
        </div>
        
        <div class="step">
          <span class="step-number">3</span>
          <strong>ê° ë²•ì•ˆë³„ ì˜ê²¬ ë“±ë¡</strong><br>
          ì˜ê²¬ë“±ë¡ ë²„íŠ¼ â†’ í…œí”Œë¦¿ ë¶™ì—¬ë„£ê¸° â†’ ìº¡ì°¨ ì…ë ¥ â†’ ì œì¶œ
        </div>
      </div>
    </div>

    <!-- í…ŒìŠ¤íŠ¸ ì˜ì—­ -->
    <div class="test-area">
      <h3>ğŸ”§ ë¶ë§ˆí´ë¦¿ í…ŒìŠ¤íŠ¸</h3>
      <p>ë¶ë§ˆí´ë¦¿ ë“±ë¡ í›„ ì—¬ê¸°ì„œ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”:</p>
      <button onclick="testBookmarklet()" style="background: #ff9800; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 16px;">ğŸ§ª ë¶ë§ˆí´ë¦¿ í…ŒìŠ¤íŠ¸</button>
      <div id="test-result" style="margin-top: 10px;"></div>
    </div>

    <div class="success">
      <strong>âœ… ì„±ê³µí•˜ë©´:</strong> VForKoreaë‚˜ êµ­íšŒ ì‚¬ì´íŠ¸ì—ì„œ ì €ì¥í•œ ë¶ë§ˆí´ë¦¿ì„ ì‹¤í–‰í•˜ë©´ ìë™í™” íŒ¨ë„ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤!
    </div>
  </div>

  <script>
    // ë¶ë§ˆí´ë¦¿ ì½”ë“œ ìƒì„±
    const jsURL = 'https://alfms1.github.io/against-bad-law/vote-bookmarklet.js';
    const bookmarkletCode = `javascript:(function(){var s=document.createElement('script');s.src='${jsURL}';document.body.appendChild(s);})();`;
    
    // ì§ì ‘ ì‹¤í–‰ìš© ì½”ë“œ (javascript: ì—†ì´)
    const directCode = `(function(){var s=document.createElement('script');s.src='${jsURL}';document.body.appendChild(s);})();`;

    // ì½”ë“œë¥¼ ê° ìš”ì†Œì— ì‚½ì…
    document.getElementById('bookmarklet-code-chrome').textContent = bookmarkletCode;
    document.getElementById('bookmarklet-code-safari').textContent = bookmarkletCode;
    document.getElementById('direct-code-kiwi').textContent = directCode;

    // ë¸Œë¼ìš°ì € íƒ­ ì „í™˜
    function showBrowser(browser) {
      // ëª¨ë“  íƒ­ê³¼ ì½˜í…ì¸  ë¹„í™œì„±í™”
      document.querySelectorAll('.browser-tab').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.browser-content').forEach(content => content.classList.remove('active'));
      
      // ì„ íƒëœ íƒ­ê³¼ ì½˜í…ì¸  í™œì„±í™”
      document.querySelector(`[onclick="showBrowser('${browser}')"]`).classList.add('active');
      document.getElementById(`${browser}-content`).classList.add('active');
    }

    // ì½”ë“œ ë³µì‚¬ í•¨ìˆ˜
    async function copyCode(elementId) {
      const element = document.getElementById(elementId);
      const text = element.textContent;
      
      try {
        await navigator.clipboard.writeText(text);
        const btn = element.nextElementSibling;
        const originalText = btn.textContent;
        btn.textContent = 'âœ… ë³µì‚¬ë¨!';
        btn.style.background = '#4caf50';
        
        setTimeout(() => {
          btn.textContent = originalText;
          btn.style.background = '#4caf50';
        }, 2000);
      } catch (err) {
        // í´ë¦½ë³´ë“œ APIê°€ ì§€ì›ë˜ì§€ ì•ŠëŠ” ê²½ìš°
        const textArea = document.createElement('textarea');
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        
        alert('ì½”ë“œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
      }
    }

    // í…œí”Œë¦¿ ë³µì‚¬
    async function copyTemplate() {
      const template = `ì œëª©: ì´ ë²•ì•ˆì„ ë°˜ëŒ€í•©ë‹ˆë‹¤
ë‚´ìš©: êµ­ë¯¼ì˜ ì˜ê²¬ì„ ì¶©ë¶„íˆ ìˆ˜ë ´í•˜ì§€ ì•Šì€ ì¡¸ì† ì…ë²•ì„ ë°˜ëŒ€í•©ë‹ˆë‹¤. ë” ì‹ ì¤‘í•œ ê²€í† ì™€ ì¶©ë¶„í•œ í† ë¡ ì´ í•„ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.`;
      
      try {
        await navigator.clipboard.writeText(template);
        alert('ğŸ“‹ í…œí”Œë¦¿ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
      } catch (err) {
        const textArea = document.createElement('textarea');
        textArea.value = template;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        alert('ğŸ“‹ í…œí”Œë¦¿ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
      }
    }

    // ë¶ë§ˆí´ë¦¿ í…ŒìŠ¤íŠ¸
    function testBookmarklet() {
      const testResult = document.getElementById('test-result');
      
      try {
        // ë¶ë§ˆí´ë¦¿ ì½”ë“œ ì‹¤í–‰ ì‹œë®¬ë ˆì´ì…˜
        if (typeof window !== 'undefined' && window.location) {
          testResult.innerHTML = `
            <div style="background: #e8f5e8; color: #2e7d32; padding: 10px; border-radius: 4px; margin-top: 10px;">
              âœ… JavaScript ì‹¤í–‰ í™˜ê²½ ì •ìƒ<br>
              ğŸ“ í˜„ì¬ ë„ë©”ì¸: ${window.location.hostname}<br>
              ğŸ’¡ VForKoreaë‚˜ êµ­íšŒ ì‚¬ì´íŠ¸ì—ì„œ ë¶ë§ˆí´ë¦¿ì„ ì‹¤í–‰í•˜ì„¸ìš”!
            </div>
          `;
        }
      } catch (err) {
        testResult.innerHTML = `
          <div style="background: #ffebee; color: #c62828; padding: 10px; border-radius: 4px; margin-top: 10px;">
            âŒ ì˜¤ë¥˜: ${err.message}
          </div>
        `;
      }
    }
  </script>
</body>
</html>
